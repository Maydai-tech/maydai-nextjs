---
description: Safe asset and file management for non-technical contributors
globs: ["public/**/*", "**/*.jsx", "**/*.tsx"]
alwaysApply: true
---
# Gestion S√©curis√©e des Assets et Fichiers

## üéØ PROBL√àME CRITIQUE R√âSOLU
Les fichiers avec espaces/caract√®res sp√©ciaux causent des erreurs 500 en production √† cause des headers HTTP non-ASCII.

**Exemple d'erreur Vercel** :
```
Header 'link: </logos/Logo MaydAI/Logo Name MaydAI.png>' contains non-ASCII characters
```

## üìÅ NOMMAGE DES FICHIERS - R√àGLES STRICTES

### ‚ùå NOMS INTERDITS
```
Logo MaydAI.png          # Espaces
Image √©t√©.jpg            # Accents
Photo_Produit.PNG        # Underscores + majuscules
document final.pdf       # Espaces
```

### ‚úÖ NOMS CORRECTS
```
logo-maydai.png          # kebab-case
image-ete.jpg            # Sans accents
photo-produit.png        # Minuscules avec tirets
document-final.pdf       # Coh√©rent
```

### R√®gle de Transformation
```
Nom original    ‚Üí Nom corrig√©
"Logo MaydAI"   ‚Üí "logo-maydai"
"√©t√© 2024"      ‚Üí "ete-2024"
"Photo_Prod"    ‚Üí "photo-prod"
```

## üñºÔ∏è GESTION DES IMAGES

### Emplacements Autoris√©s
```
/public/logos/           # Logos de l'entreprise et partenaires
/public/images/          # Images de contenu
/public/icons/           # Ic√¥nes de l'interface
/public/screenshots/     # Captures d'√©cran
```

### Workflow S√©curis√©
1. **Avant d'ajouter** : Renommer le fichier selon les r√®gles
2. **Placement** : Mettre dans le bon dossier `/public/`
3. **R√©f√©rence** : Utiliser le bon chemin dans le code
4. **Test** : V√©rifier que l'image s'affiche

### Code Template S√ªr
```jsx
// ‚úÖ BON - Chemin correct avec nom valide
<img 
  src="/logos/logo-maydai.png" 
  alt="Logo MaydAI"
  className="h-8 w-auto" 
/>

// ‚ùå MAUVAIS - Chemin avec espaces
<img src="/logos/Logo MaydAI.png" alt="Logo" />
```

## üîç V√âRIFICATION AUTOMATIQUE

### Script de D√©tection
Utiliser le script fourni pour d√©tecter les probl√®mes :
```bash
./scripts/check-thomas-merge.sh
```

### Correction Automatique
```bash
./scripts/rename-problematic-files.sh
```

## üìù R√âF√âRENCES D'IMAGES DANS LE CODE

### Mise √† Jour Obligatoire
Apr√®s renommage d'un fichier, mettre √† jour TOUTES les r√©f√©rences :

```jsx
// Avant renommage
<img src="/logos/Logo MaydAI/Logo Name MaydAI.png" />

// Apr√®s renommage
<img src="/logos/logo-maydai/logo-name-maydai.png" />
```

### Recherche des R√©f√©rences
```bash
# Trouver toutes les r√©f√©rences √† un fichier
grep -r "nom-ancien-fichier" components/ app/
```

## üö® PR√âVENTION D'ERREURS

### Checklist Obligatoire
Avant chaque ajout d'image :
- [ ] Nom en kebab-case (minuscules-avec-tirets)
- [ ] Aucun espace ni caract√®re sp√©cial
- [ ] Emplacement correct dans `/public/`
- [ ] Test : image s'affiche dans le navigateur
- [ ] Aucune erreur console

### Formats Recommand√©s
- **Images web** : `.webp` (meilleure compression)
- **Photos** : `.jpg` (pour photos r√©alistes)
- **Logos/ic√¥nes** : `.png` ou `.svg`
- **Taille max** : 500KB par fichier

## üîß OUTILS D'AIDE

### Renommage Manuel
```bash
# Exemple de renommage s√ªr
mv "Logo MaydAI.png" "logo-maydai.png"
mv "Image √©t√©.jpg" "image-ete.jpg"
```

### Validation Build
Toujours tester apr√®s modifications :
```bash
npm run build  # V√©rifier aucune erreur
npm run dev    # Tester l'affichage
```

## üéØ OBJECTIF
√âliminer d√©finitivement les erreurs de production li√©es aux noms de fichiers en appliquant des r√®gles strictes de nommage.